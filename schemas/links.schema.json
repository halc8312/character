{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/halc8312/character/schemas/links.schema.json",
  "title": "Character-Location Links Schema",
  "description": "Schema for character-location relationship files",
  "type": "object",
  "required": [
    "version",
    "links"
  ],
  "additionalProperties": false,
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version",
      "pattern": "^[0-9]+\\.[0-9]+$"
    },
    "links": {
      "type": "array",
      "description": "Character-location relationships",
      "items": {
        "type": "object",
        "required": ["character_id", "kind", "location_id"],
        "additionalProperties": false,
        "properties": {
          "character_id": {
            "type": "string",
            "description": "ID of the character",
            "pattern": "^[a-z0-9_]+$"
          },
          "kind": {
            "type": "string",
            "description": "Type of relationship to location (must be in vocab.yml link_kinds)"
          },
          "location_id": {
            "type": "string",
            "description": "ID of the location",
            "pattern": "^[a-z0-9_]+$"
          },
          "note": {
            "type": "string",
            "description": "Additional context about this relationship"
          },
          "since": {
            "type": "string",
            "description": "When this relationship started (YYYY-MM-DD or YYYY)",
            "pattern": "^[0-9]{4}(-[0-9]{2}(-[0-9]{2})?)?$"
          },
          "intensity": {
            "type": "integer",
            "description": "How strongly connected (0-5, e.g., frequency of visits)",
            "minimum": 0,
            "maximum": 5
          }
        }
      }
    }
  }
}
